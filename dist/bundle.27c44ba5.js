!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){t.exports={"editor-toolbar":"_2etFbExNb4i3da_DgsSNsp","editor-toolbar-header":"_2rF63FrfEQFApzesJ6DKtN","editor-toolbar-header-item":"_3--GPwwKNKh576_y80gm9y","editor-color":"_304ho-Kl6guGbGpOgDLIWQ"}},function(t,e,n){t.exports={container:"_2Zyui-0eRE2JsDU1MIczkg",main:"zLGhFMubn5lvaOuRLHSk8","editor-content":"_2IymPBFM7oFoBXzQO7pyzo","title-input":"PteL21PQZcZEXCK15I1eu"}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(2);var o=n(0),i=n.n(o),r=function(t,e,n,o){null==o&&("function"==typeof n&&(o=n),n=null),t.addEventListener(e,(function(t){var e=t.target;o&&o.call(e,t)}))};var c=function(){function t(t){this.settings=t,this.settings=Object.assign({width:"100%",height:"300px",content:function(){}},this.settings),this.init()}return t.prototype.init=function(){console.log("toolbar init--"),this.select_text="",this.header_type="<h1>",this.select_color="red",this.template(),this.contentCallback(),this.handle()},t.prototype.template=function(){var t=document.querySelector(".container");this.tempContainer=document.createElement("div"),this.tempContainer.innerHTML='\n      <div class="'+i.a["editor-toolbar"]+'">\n        <ul class="'+i.a["editor-toolbar-header"]+'" id="funcBtn">\n          <li>\n            <button class="'+i.a["editor-toolbar-header-item"]+'" id="boldBtn">B</button>\n          </li>\n          <li>\n            <button class="'+i.a["editor-toolbar-header-item"]+'" id="setH1Btn">\n              H1\n            </button>\n          </li>\n          <li>\n            <button class="'+i.a["editor-toolbar-header-item"]+'" id="setColorBtn">\n              <input\n                type="color"\n                id="setColorIpt"\n                class="'+i.a["editor-color"]+'"\n                value="#D93030"\n              />\n            </button>\n          </li>\n        </ul>\n      </div>\n    ',t.appendChild(this.tempContainer)},t.prototype.handle=function(){this.mouseupEvent(),this.funcBtnEvent(),this.colorEvent()},t.prototype.colorEvent=function(){var t=this,e=document.getElementById("setColorIpt");r(e,"change",(function(e){var n=document.querySelector("#setColorIpt").value;t.select_text&&(console.log("setColorIpt change ",n),t.select_color=n,t.toExecCommandFunc("foreColor",!1,t.select_color))}))},t.prototype.mouseupEvent=function(){var t=this;window.addEventListener("mouseup",(function(e){var n=window.getSelection();n&&(t.select_text=n.toString())}))},t.prototype.funcBtnEvent=function(){var t=this,e=document.getElementById("funcBtn");r(e,"click","button",(function(e){switch(e.target.id){case"boldBtn":if(!t.select_text)return;t.toExecCommandFunc("bold",!1,t.select_text);break;case"setH1Btn":t.toExecCommandFunc("formatBlock",!1,t.header_type)}}))},t.prototype.toExecCommandFunc=function(t,e,n){try{var o=document.execCommand(t,e,n);console.log(o)}catch(e){console.error(t+" commond excutes has error: "+e)}},t.prototype.contentCallback=function(){var t=this.tempContainer.querySelector("."+i.a["editor-toolbar"]);this.settings.content&&this.settings.content(t)},t}(),a=function(t){return new c(t)},l=n(1),s=n.n(l);var u=function(){function t(t){this.settings=t,this.settings=Object.assign({width:"100%",height:"100vh",autofocus:!0,maxlength:100,content:function(){}},this.settings),this.init()}return t.prototype.init=function(){console.log("content init--"),this.template(),this.contentCallback()},t.prototype.template=function(){var t=document.querySelector(".container");this.tempContainer=document.createElement("div"),this.tempContainer.innerHTML='\n      <div class="'+s.a.main+'">\n        <textarea\n          class="'+s.a["title-input"]+'"\n          maxlength="'+this.settings.maxlength+'"\n          placeholder="请输入标题..."\n          autofocus="'+this.settings.autofocus+'"\n        ></textarea>\n        <div class="'+s.a["editor-content"]+'" contenteditable="true">\n          请输入正文...\n        </div>\n      </div>\n    ',t.appendChild(this.tempContainer)},t.prototype.handle=function(){},t.prototype.contentCallback=function(){var t=this.tempContainer.querySelector("."+s.a.main);this.settings.content&&this.settings.content(t)},t}(),d=function(t){return new u(t)};a({content:function(t){console.log(t)}}),d({content:function(t){console.log(t)}})}]);